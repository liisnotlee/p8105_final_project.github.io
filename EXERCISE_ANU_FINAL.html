<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>EXERCISE: FINAL ANALYSIS</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-solid fa-spa"></span>
     
  </a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Lifestyle Factors Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="hormone_final.html">Hormone &amp; Symptoms</a>
    </li>
    <li>
      <a href="sleep_stress_khue.html">Sleep &amp; Stress</a>
    </li>
    <li>
      <a href="EXERCISE_ANU_FINAL.html">Exercise</a>
    </li>
  </ul>
</li>
<li>
  <a href="p8105_final_project_proposal.html">Proposal</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">Meet the Team</a>
</li>
<li>
  <a>
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">EXERCISE: FINAL ANALYSIS</h1>

</div>


<div id="libraries-required-and-global-settings" class="section level1">
<h1>Libraries required and global settings</h1>
<p>This analysis investigates the relationship between objectively
measured exercise (steps, active minutes, calories) and self-reported
menstrual symptoms across different cycle phases. We use data from two
study intervals (2022 and 2024) to examine whether physical activity is
associated with symptom severity.</p>
<pre class="r"><code>library(tidyverse)
library(patchwork)
library(scales)
library(lme4)
library(lmerTest)
library(broom.mixed)

# Set plot theme
theme_set(theme_minimal() + theme(legend.position = &quot;bottom&quot;))
options(
  ggplot2.discrete.colour = function(...) scale_colour_brewer(..., palette = &quot;Pastel2&quot;),
  ggplot2.discrete.fill   = function(...) scale_fill_brewer(..., palette = &quot;Pastel2&quot;),

  ggplot2.continuous.colour = function(...) scale_colour_distiller(..., palette = &quot;PuRd&quot;),
  ggplot2.continuous.fill   = function(...) scale_fill_distiller(..., palette = &quot;PuRd&quot;)
)</code></pre>
</div>
<div id="eda" class="section level1">
<h1>EDA</h1>
<div id="data-summaries" class="section level3">
<h3>Data summaries</h3>
<pre class="r"><code># View observations with extreme values

# Load raw data
raw_data &lt;- read.csv(&quot;./clean_data/all_daily_data.csv&quot;) %&gt;%
  distinct(id, study_interval, day_in_study, .keep_all = TRUE)

# Identify and view extreme observations
extreme_obs &lt;- raw_data %&gt;%
  filter(total_steps &gt;= 50000 | 
         total_active_min &gt;= 1440 | 
         total_calories &gt;= 10000) %&gt;%
  select(id, study_interval, day_in_study, 
         total_steps, total_active_min, total_calories,
         n_sessions, total_duration_min) %&gt;%
  arrange(desc(total_steps))

# Display the observations
print(extreme_obs)</code></pre>
<pre><code>##   id study_interval day_in_study total_steps total_active_min total_calories
## 1 22           2024          883     1880842         273.4644            183
## 2 14           2024          922     1877616         234.2144            129
## 3 18           2024          922     1877616         253.8477            238
## 4 27           2024          887     1877616         234.2144            129
## 5 33           2024          887     1877616         234.2144            129
##   n_sessions total_duration_min
## 1          3           274.0833
## 2          2           234.8333
## 3          3           254.4667
## 4          2           234.8333
## 5          2           234.8333</code></pre>
<pre class="r"><code># Or view in a nice table
library(knitr)
library(kableExtra)</code></pre>
<pre><code>## Warning: package &#39;kableExtra&#39; was built under R version 4.5.2</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<pre class="r"><code>extreme_obs %&gt;%
  kable(caption = &quot;Observations with Extreme Values&quot;,
        col.names = c(&quot;ID&quot;, &quot;Year&quot;, &quot;Day&quot;, &quot;Steps&quot;, &quot;Active Min&quot;, 
                     &quot;Calories&quot;, &quot;Sessions&quot;, &quot;Duration&quot;)) %&gt;%
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
Observations with Extreme Values
</caption>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
Year
</th>
<th style="text-align:right;">
Day
</th>
<th style="text-align:right;">
Steps
</th>
<th style="text-align:right;">
Active Min
</th>
<th style="text-align:right;">
Calories
</th>
<th style="text-align:right;">
Sessions
</th>
<th style="text-align:right;">
Duration
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
883
</td>
<td style="text-align:right;">
1880842
</td>
<td style="text-align:right;">
273.4644
</td>
<td style="text-align:right;">
183
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
274.0833
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
922
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
234.8333
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
922
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
253.8477
</td>
<td style="text-align:right;">
238
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
254.4667
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
887
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
234.8333
</td>
</tr>
<tr>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
887
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
234.8333
</td>
</tr>
</tbody>
</table>
</div>
<div id="data-summary-and-quality-checks" class="section level2">
<h2>Data Summary and Quality Checks</h2>
<pre class="r"><code># Load and check raw data
raw_data &lt;- read.csv(&quot;./clean_data/all_daily_data.csv&quot;) %&gt;%
  distinct(id, study_interval, day_in_study, .keep_all = TRUE)

# Identify extreme values
outliers &lt;- raw_data %&gt;%
  summarise(
    extreme_steps = sum(total_steps &gt;= 50000, na.rm = TRUE),
    extreme_active = sum(total_active_min &gt;= 1440, na.rm = TRUE),
    extreme_calories = sum(total_calories &gt;= 10000, na.rm = TRUE)
  )

outliers</code></pre>
<pre><code>##   extreme_steps extreme_active extreme_calories
## 1             5              0                0</code></pre>
<pre class="r"><code># Apply cleaning filters
exercise_analysis &lt;- raw_data %&gt;%
  filter(
    total_steps &lt; 50000,        # Realistic daily maximum
    total_active_min &lt; 1440,     # Cannot exceed 24 hours
    total_calories &lt; 10000       # Realistic exercise expenditure
  )</code></pre>
<div id="distribution-of-key-exercise-metrics" class="section level3">
<h3>Distribution of key exercise metrics</h3>
<pre class="r"><code># Filtering realistic values

exercise_analysis = read.csv(&quot;./clean_data/all_daily_data.csv&quot;)

# exercise_analysis = read.csv(&quot;./clean_data/all_daily_data.csv&quot;) |&gt; 
 # distinct(id, study_interval, day_in_study, .keep_all = TRUE) |&gt; 
  #filter(
    # Removing outliers/impossible values
   # total_steps &lt; 50000,
   # total_active_min &lt; 1440,
   # total_calories &lt; 10000
 # )

p1 = ggplot(exercise_analysis |&gt; filter(total_steps &gt; 0), 
             aes(x = total_steps, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_steps[exercise_analysis$total_steps &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Daily Step Count Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       scales::comma(round(median(exercise_analysis$total_steps[exercise_analysis$total_steps &gt; 0], na.rm = TRUE))), 
                       &quot;steps&quot;),
       x = &quot;Total Daily Steps&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;) +
  scale_x_continuous(labels = scales::comma)

p2 = ggplot(exercise_analysis |&gt; filter(total_active_min &gt; 0), 
             aes(x = total_active_min, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_active_min[exercise_analysis$total_active_min &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Active Minutes Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       round(median(exercise_analysis$total_active_min[exercise_analysis$total_active_min &gt; 0], na.rm = TRUE), 1), 
                       &quot;minutes&quot;),
       x = &quot;Total Active Minutes&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;)

p3 = ggplot(exercise_analysis |&gt; filter(total_calories &gt; 0), 
             aes(x = total_calories, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_calories[exercise_analysis$total_calories &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Calories Burned Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       scales::comma(round(median(exercise_analysis$total_calories[exercise_analysis$total_calories &gt; 0], na.rm = TRUE))), 
                       &quot;calories&quot;),
       x = &quot;Total Calories Burned&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;) +
  scale_x_continuous(labels = scales::comma)

p4 &lt;- ggplot(exercise_analysis |&gt; filter(n_sessions &gt; 0), 
             aes(x = n_sessions, fill = factor(study_interval))) +
  geom_bar(alpha = 0.7, position = &quot;dodge&quot;) +
  labs(title = &quot;Exercise Sessions Per Day&quot;,
       x = &quot;Number of Sessions&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;)

(p1 + p2) / (p3 + p4) + 
  plot_layout(guides = &quot;collect&quot;)</code></pre>
<p><img src="EXERCISE_ANU_FINAL_files/figure-html/unnamed-chunk-3-1.png" width="1248" /></p>
<p><strong>Data Cleaning Notes:</strong></p>
<ul>
<li>Removed duplicate observations based on participant ID, study
interval, and day</li>
<li>Filtered out physiologically impossible values (&gt;50k steps,
&gt;24 hours active)</li>
<li>This ensures data quality and prevents aggregation errors from
affecting results</li>
</ul>
<p><strong>Key Findings:</strong></p>
<ul>
<li><strong>Distribution Shape</strong>: Exercise metrics show
right-skewed distributions, typical of activity data where some days
have very high activity</li>
<li><strong>Central Tendency</strong>: Median steps around 4,455
steps/day, suggesting moderate activity levels overall</li>
<li><strong>Between-Year Comparison</strong>: The side-by-side
histograms reveal whether activity patterns changed between 2022 and
2024 study intervals</li>
</ul>
</div>
<div id="activity-type" class="section level3">
<h3>Activity type</h3>
<pre class="r"><code># Prepare activity types data
activities_long &lt;- exercise_analysis |&gt; 
  filter(!is.na(activity_types), activity_types != &quot;&quot;, activity_types != &quot;NA&quot;) |&gt; 
  select(id, study_interval, day_in_study, activity_types) |&gt; 
  mutate(
    # Clean activity types column
    activity_types = str_replace_all(activity_types, &quot;\\n&quot;, &quot;,&quot;),
    activity_types = str_replace_all(activity_types, &quot;\&quot;&quot;, &quot;&quot;)
  ) |&gt; 
  # Split comma-separated activities into rows
  separate_rows(activity_types, sep = &quot;,&quot;) |&gt; 
  mutate(
    activity_types = str_trim(activity_types),
    activity_types = str_to_title(activity_types)
  ) |&gt; 
  filter(activity_types != &quot;&quot;, activity_types != &quot;Na&quot;)

activities_long</code></pre>
<pre><code>## # A tibble: 2,078 × 4
##       id study_interval day_in_study activity_types
##    &lt;int&gt;          &lt;int&gt;        &lt;int&gt; &lt;chr&gt;         
##  1     1           2022            1 Sport         
##  2     1           2022           25 Sport         
##  3     1           2022           33 Walk          
##  4     1           2022           34 Walk          
##  5     1           2022           38 Walk          
##  6     1           2022           39 Walk          
##  7     1           2022           40 Walk          
##  8     1           2022           41 Walk          
##  9     1           2022           44 Outdoor Bike  
## 10     1           2022           44 Walk          
## # ℹ 2,068 more rows</code></pre>
<pre class="r"><code># Count activities by year
activity_counts &lt;- activities_long %&gt;%
  group_by(study_interval, activity_types) %&gt;%
  summarise(n_days = n(), .groups = &quot;drop&quot;) %&gt;%
  group_by(study_interval) %&gt;%
  mutate(pct = n_days / sum(n_days) * 100) %&gt;%
  ungroup()

# Plot 1: Activity type frequency by year
p1 &lt;- ggplot(activity_counts, 
             aes(x = reorder(activity_types, pct), y = pct, 
                 fill = factor(study_interval))) +
  geom_col(position = &quot;dodge&quot;, alpha = 0.8) +
  coord_flip() +
  labs(title = &quot;Most Common Activity Types by Study Year&quot;,
       x = &quot;Activity Type&quot;,
       y = &quot;% of Days with Exercise&quot;,
       fill = &quot;Study Year&quot;) +
  theme_minimal() +
  theme(legend.position = &quot;bottom&quot;)

p1</code></pre>
<p><img src="EXERCISE_ANU_FINAL_files/figure-html/unnamed-chunk-4-1.png" width="960" /></p>
</div>
<div id="exercise-patterns-across-menstrual-cycle-phases"
class="section level3">
<h3>Exercise patterns across menstrual cycle phases</h3>
<pre class="r"><code>p1 = ggplot(exercise_analysis |&gt; filter(!is.na(phase), total_steps &gt; 0), 
             aes(x = phase, y = total_steps, fill = phase)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.3) +
  geom_jitter(width = 0.2, alpha = 0.1, size = 0.5) +
  stat_summary(fun = mean, geom = &quot;point&quot;, shape = 23, size = 3, fill = &quot;white&quot;) +
  facet_wrap(~study_interval, ncol = 2) +  # Side by side
  labs(title = &quot;Daily Steps by Menstrual Cycle Phase&quot;,
       subtitle = &quot;White diamonds represent mean values | Comparing study years&quot;,
       x = &quot;Cycle Phase&quot;,
       y = &quot;Total Daily Steps&quot;) +
  scale_y_continuous(labels = comma) +
  theme(legend.position = &quot;bottom&quot;,
        axis.text.x = element_text(angle = 45, hjust = 1))

p2 = ggplot(exercise_analysis |&gt; filter(!is.na(phase), total_active_min &gt; 0), 
             aes(x = phase, y = total_active_min, fill = phase)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.3) +
  geom_jitter(width = 0.2, alpha = 0.1, size = 0.5) +
  stat_summary(fun = mean, geom = &quot;point&quot;, shape = 23, size = 3, fill = &quot;white&quot;) +
  facet_wrap(~study_interval, ncol = 2) +
  labs(title = &quot;Active Minutes by Menstrual Cycle Phase&quot;,
       x = &quot;Cycle Phase&quot;,
       y = &quot;Total Active Minutes&quot;) +
  theme(legend.position = &quot;bottom&quot;,
        axis.text.x = element_text(angle = 45, hjust = 1))

p1 / p2 + plot_layout(guides = &quot;collect&quot;)</code></pre>
<p><img src="EXERCISE_ANU_FINAL_files/figure-html/unnamed-chunk-5-1.png" width="960" /></p>
<p><strong>Key Findings:</strong></p>
<ul>
<li><strong>Visual Patterns</strong>: The box plots reveal whether
activity varies systematically across cycle phases</li>
<li><strong>Menstrual Phase</strong>: Often shows slightly lower
activity (if present) due to symptom burden</li>
<li><strong>Follicular/Fertility</strong>: May show higher activity as
energy levels typically increase</li>
<li><strong>Luteal Phase</strong>: Activity patterns may decrease as PMS
symptoms emerge</li>
<li><strong>Year Consistency</strong>: Faceting by year shows whether
these patterns are stable across study intervals</li>
</ul>
</div>
<div id="exercise-vs.-menstrual-symptoms" class="section level3">
<h3>Exercise vs. menstrual symptoms</h3>
<pre class="r"><code>symptoms_long = exercise_analysis |&gt; 
  filter(total_active_min &gt; 0) |&gt; 
  select(id, total_active_min, appetite_score, sorebreasts_score, sleepissue_score, cramps_score, fatigue_score, 
         headaches_score, moodswing_score, foodcravings_score, indigestion_score, bloating_score) |&gt; 
  pivot_longer(cols = ends_with(&quot;_score&quot;), 
               names_to = &quot;symptom&quot;, 
               values_to = &quot;severity&quot;) |&gt; 
  filter(!is.na(severity)) |&gt; 
  mutate(symptom = case_when(
    symptom == &quot;appetite_score&quot; ~ &quot;Appetite&quot;,
    symptom == &quot;sorebreasts_score&quot; ~ &quot;Sore Breasts&quot;,
    symptom == &quot;sleepissue_score&quot; ~ &quot;Sleep Issue&quot;,
    symptom == &quot;cramps_score&quot; ~ &quot;Cramps&quot;,
    symptom == &quot;fatigue_score&quot; ~ &quot;Fatigue&quot;,
    symptom == &quot;headaches_score&quot; ~ &quot;Headaches&quot;,
    symptom == &quot;moodswing_score&quot; ~ &quot;Mood Swings&quot;,
    symptom == &quot;foodcravings_score&quot; ~ &quot;Food Cravings&quot;,
    symptom == &quot;indigestion_score&quot; ~ &quot;Indigestion&quot;,
    symptom == &quot;bloating_score&quot; ~ &quot;Bloating&quot;
  ))

p4 = ggplot(symptoms_long, 
             aes(x = total_active_min, y = severity, color = symptom)) +
  geom_jitter(alpha = 0.2, size = 0.5, height = 0.1) +
  geom_smooth(method = &quot;lm&quot;, se = TRUE, linewidth = 1.5) +
  facet_wrap(~symptom, ncol = 2) +
  labs(title = &quot;Daily Activity vs Individual Symptoms&quot;,
       x = &quot;Total Daily Activity (mins)&quot;,
       y = &quot;Symptom Severity (0-5)&quot;) +
  scale_x_continuous(labels = comma) +
  scale_y_continuous(breaks = 0:5) +
  theme(legend.position = &quot;none&quot;)

p4</code></pre>
<p><img src="EXERCISE_ANU_FINAL_files/figure-html/unnamed-chunk-6-1.png" width="960" /></p>
<p><strong>Key Findings:</strong></p>
<ul>
<li><strong>Slope Direction</strong>:
<ul>
<li>Downward slopes (negative correlations) suggest exercise is
associated with <em>reduced</em> symptom severity</li>
<li>Upward slopes (positive correlations) could indicate either: (a)
symptoms prevent exercise, or (b) exercise exacerbates symptoms</li>
<li>Flat lines suggest no relationship</li>
</ul></li>
<li><strong>Symptom-Specific Patterns</strong>:
<ul>
<li><strong>Cramps</strong>: Look for negative slope - exercise may
reduce cramping</li>
<li><strong>Fatigue</strong>: Relationship could go either way -
exercise might reduce fatigue OR fatigue prevents exercise</li>
<li><strong>Mood/Stress</strong>: Exercise typically shows beneficial
(negative) associations</li>
<li><strong>Physical symptoms</strong> (bloating, sore breasts): May be
less responsive to exercise</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="modelling-and-inferential-analysis" class="section level1">
<h1>Modelling and inferential analysis</h1>
<p>We used linear mixed-effects models to test associations between
daily physical activity and menstrual symptom severity. For each of 10
symptoms, we fit models with:</p>
<ul>
<li><strong>Outcome</strong>: Symptom severity (0-5 scale)</li>
<li><strong>Predictor</strong>: Total active exercise minutes per
day<br />
</li>
<li><strong>Covariate</strong>: Menstrual cycle phase (Menstrual,
Follicular, Fertility, Luteal)</li>
<li><strong>Random effects</strong>: Random intercepts for participants
(1|id)</li>
</ul>
<p>The random intercept structure accounts for repeated measures within
individuals, including the 20 participants (47.6%) who contributed data
in both 2022 and 2024 study intervals. Models were fit using the lme4
package in R with REML = FALSE. Statistical significance was assessed at
α = 0.05.</p>
<pre class="r"><code># Model 1: Exercise → cramps
model_cramps = lmer(cramps_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_cramps)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: cramps_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1265.8    1295.1    -625.9    1251.8       480 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.8748 -0.5374 -0.1912  0.2757  4.2158 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.6555   0.8096  
##  Residual             0.6716   0.8195  
## Number of obs: 487, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       6.757e-01  1.947e-01  3.305e+01   3.471  0.00146 ** 
## total_active_min -4.666e-05  1.054e-03  4.686e+02  -0.044  0.96469    
## phasefollicular   7.566e-02  1.106e-01  4.666e+02   0.684  0.49417    
## phaseluteal       5.271e-01  1.059e-01  4.702e+02   4.977 9.08e-07 ***
## phasemenstrual    1.104e+00  1.219e-01  4.712e+02   9.052  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.220                     
## phasefllclr -0.261 -0.120              
## phaseluteal -0.313  0.010  0.547       
## phasemnstrl -0.282 -0.010  0.464  0.529</code></pre>
<pre class="r"><code># Model 2: Exercise → fatigue
model_fatigue = lmer(fatigue_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_fatigue)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: fatigue_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1545.3    1574.7    -765.7    1531.3       483 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.5272 -0.5929 -0.0512  0.6314  3.8870 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 1.018    1.009   
##  Residual             1.176    1.084   
## Number of obs: 490, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)        2.467907   0.246028  34.928340  10.031    8e-12 ***
## total_active_min  -0.002682   0.001361 473.226001  -1.971   0.0493 *  
## phasefollicular    0.260917   0.145952 470.443347   1.788   0.0745 .  
## phaseluteal        0.102270   0.139386 473.823527   0.734   0.4635    
## phasemenstrual     0.293860   0.160674 474.677079   1.829   0.0680 .  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.234                     
## phasefllclr -0.270 -0.124              
## phaseluteal -0.325  0.014  0.545       
## phasemnstrl -0.295  0.004  0.464  0.527</code></pre>
<pre class="r"><code># Model 3: Exercise → stress
model_stress = lmer(stress_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_stress)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: stress_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    8927.5    8963.9   -4456.8    8913.5      1328 
## 
## Scaled residuals: 
##      Min       1Q   Median       3Q      Max 
## -11.8306  -0.5371   0.0438   0.6073   2.3966 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept)  8.729   2.954   
##  Residual             44.477   6.669   
## Number of obs: 1335, groups:  id, 26
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       7.699e+01  7.535e-01  5.895e+01 102.172   &lt;2e-16 ***
## total_active_min -1.170e-03  3.634e-03  1.328e+03  -0.322    0.748    
## phasefollicular   5.202e-01  5.444e-01  1.327e+03   0.956    0.339    
## phaseluteal      -7.110e-01  5.076e-01  1.327e+03  -1.401    0.162    
## phasemenstrual    2.018e-01  5.828e-01  1.317e+03   0.346    0.729    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.344                     
## phasefllclr -0.379  0.055              
## phaseluteal -0.418  0.069  0.525       
## phasemnstrl -0.343  0.049  0.446  0.502</code></pre>
<pre class="r"><code># Model 4: Exercise → mood swings
model_mood = lmer(moodswing_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_mood)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: moodswing_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1404.6    1433.9    -695.3    1390.6       478 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.3104 -0.5034 -0.1327  0.4377  3.8246 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 1.0026   1.0013  
##  Residual             0.8986   0.9479  
## Number of obs: 485, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)        1.836570   0.237305  32.830978   7.739 6.71e-09 ***
## total_active_min  -0.001123   0.001221 467.100818  -0.919   0.3585    
## phasefollicular    0.031829   0.127959 465.057240   0.249   0.8037    
## phaseluteal        0.187347   0.122554 468.127353   1.529   0.1270    
## phasemenstrual     0.334806   0.141285 468.285367   2.370   0.0182 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.211                     
## phasefllclr -0.248 -0.119              
## phaseluteal -0.297  0.010  0.547       
## phasemnstrl -0.265 -0.013  0.463  0.528</code></pre>
<pre class="r"><code># Model 5: Exercise → sleep issues
model_sleep = lmer(sleepissue_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_sleep)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: sleepissue_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1468.4    1497.8    -727.2    1454.4       481 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.0889 -0.4629 -0.2024  0.5656  3.2474 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.9732   0.9865  
##  Residual             1.0127   1.0063  
## Number of obs: 488, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       2.124e+00  2.376e-01  3.279e+01   8.941 2.61e-10 ***
## total_active_min -3.841e-04  1.266e-03  4.705e+02  -0.303    0.762    
## phasefollicular  -1.654e-01  1.358e-01  4.674e+02  -1.219    0.224    
## phaseluteal      -8.634e-02  1.300e-01  4.711e+02  -0.664    0.507    
## phasemenstrual    1.314e-01  1.495e-01  4.716e+02   0.879    0.380    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.222                     
## phasefllclr -0.262 -0.127              
## phaseluteal -0.315  0.010  0.547       
## phasemnstrl -0.286  0.001  0.466  0.529</code></pre>
<pre class="r"><code># Model 6: Exercise → bloating
model_bloating = lmer(bloating_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_bloating)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: bloating_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1352.9    1382.3    -669.5    1338.9       481 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.2181 -0.4062 -0.1555  0.2982  3.2756 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 1.1441   1.0696  
##  Residual             0.7848   0.8859  
## Number of obs: 488, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       1.612e+00  2.465e-01  3.043e+01   6.542  2.9e-07 ***
## total_active_min -2.529e-04  1.116e-03  4.693e+02  -0.227 0.820856    
## phasefollicular  -3.568e-03  1.196e-01  4.673e+02  -0.030 0.976212    
## phaseluteal       3.841e-01  1.146e-01  4.699e+02   3.351 0.000871 ***
## phasemenstrual    4.009e-01  1.318e-01  4.702e+02   3.042 0.002480 ** 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.188                     
## phasefllclr -0.222 -0.126              
## phaseluteal -0.267  0.011  0.547       
## phasemnstrl -0.243  0.001  0.466  0.529</code></pre>
<pre class="r"><code># Model 7: Exercise → appetite
model_appetite = lmer(appetite_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_appetite)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: appetite_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1112.0    1141.4    -549.0    1098.0       483 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -3.5900 -0.7095 -0.0207  0.5041  2.7077 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.2401   0.4900  
##  Residual             0.4974   0.7053  
## Number of obs: 490, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       2.875e+00  1.313e-01  4.300e+01  21.895   &lt;2e-16 ***
## total_active_min  3.267e-04  8.830e-04  4.767e+02   0.370   0.7116    
## phasefollicular  -1.619e-01  9.482e-02  4.720e+02  -1.707   0.0885 .  
## phaseluteal      -9.643e-03  9.044e-02  4.768e+02  -0.107   0.9151    
## phasemenstrual   -5.397e-02  1.042e-01  4.782e+02  -0.518   0.6048    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.286                     
## phasefllclr -0.330 -0.125              
## phaseluteal -0.397  0.013  0.546       
## phasemnstrl -0.358  0.003  0.465  0.527</code></pre>
<pre class="r"><code># Model 8: Exercise → sore breasts
model_sorebreasts = lmer(sorebreasts_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_sorebreasts)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: sorebreasts_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1095.2    1124.5    -540.6    1081.2       480 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.5866 -0.4788 -0.0787  0.1664  4.8257 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 0.5941   0.7708  
##  Residual             0.4677   0.6839  
## Number of obs: 487, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)       6.654e-01  1.800e-01  3.165e+01   3.697 0.000823 ***
## total_active_min  4.040e-04  8.798e-04  4.682e+02   0.459 0.646285    
## phasefollicular  -2.127e-02  9.232e-02  4.666e+02  -0.230 0.817881    
## phaseluteal       2.371e-01  8.845e-02  4.696e+02   2.681 0.007601 ** 
## phasemenstrual    4.254e-01  1.018e-01  4.703e+02   4.177 3.52e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.198                     
## phasefllclr -0.235 -0.120              
## phaseluteal -0.282  0.010  0.547       
## phasemnstrl -0.255 -0.010  0.464  0.529</code></pre>
<pre class="r"><code># Model 9: Exercise → food cravings
model_foodcravings = lmer(foodcravings_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_foodcravings)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: foodcravings_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1532.1    1561.5    -759.1    1518.1       480 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.8215 -0.4849 -0.0844  0.4775  2.9251 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 1.149    1.072   
##  Residual             1.160    1.077   
## Number of obs: 487, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)        2.025357   0.257233  33.122162   7.874 4.34e-09 ***
## total_active_min  -0.001306   0.001385 468.676043  -0.943   0.3462    
## phasefollicular   -0.152891   0.145321 466.671362  -1.052   0.2933    
## phaseluteal        0.278339   0.139177 470.236078   2.000   0.0461 *  
## phasemenstrual     0.071820   0.160225 471.231603   0.448   0.6542    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.219                     
## phasefllclr -0.259 -0.120              
## phaseluteal -0.311  0.010  0.547       
## phasemnstrl -0.281 -0.010  0.464  0.529</code></pre>
<pre class="r"><code># Model 10: Exercise → indigestion
model_indigestion = lmer(indigestion_score ~ total_active_min + phase + (1|id), 
                     data = exercise_analysis,
                     REML = FALSE)
summary(model_indigestion)</code></pre>
<pre><code>## Linear mixed model fit by maximum likelihood . t-tests use Satterthwaite&#39;s
##   method [lmerModLmerTest]
## Formula: indigestion_score ~ total_active_min + phase + (1 | id)
##    Data: exercise_analysis
## 
##       AIC       BIC    logLik -2*log(L)  df.resid 
##    1382.3    1411.7    -684.2    1368.3       480 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -2.4525 -0.3690 -0.1614  0.1884  3.5885 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  id       (Intercept) 1.0583   1.0288  
##  Residual             0.8439   0.9187  
## Number of obs: 487, groups:  id, 23
## 
## Fixed effects:
##                    Estimate Std. Error         df t value Pr(&gt;|t|)    
## (Intercept)        1.457001   0.240530  30.800642   6.057 1.07e-06 ***
## total_active_min  -0.001599   0.001182 467.608774  -1.353  0.17663    
## phasefollicular    0.126242   0.124003 466.027077   1.018  0.30918    
## phaseluteal        0.355403   0.118810 469.054074   2.991  0.00292 ** 
## phasemenstrual     0.312394   0.136794 469.868346   2.284  0.02284 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) ttl_c_ phsfll phsltl
## totl_ctv_mn -0.199                     
## phasefllclr -0.236 -0.120              
## phaseluteal -0.284  0.010  0.547       
## phasemnstrl -0.257 -0.010  0.464  0.529</code></pre>
<pre class="r"><code># Cleaning results:
# Extract coefficients for exercise effect
results_summary = bind_rows(
  tidy(model_cramps, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Cramps&quot;),
  tidy(model_fatigue, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Fatigue&quot;),
  tidy(model_stress, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Stress&quot;),
  tidy(model_mood, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Mood swings&quot;),
  tidy(model_sleep, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Sleep issues&quot;),
  tidy(model_bloating, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Bloating&quot;),
  tidy(model_appetite, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Appetite&quot;),
  tidy(model_indigestion, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Indigestion&quot;),
  tidy(model_sorebreasts, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Sore breasts&quot;),
  tidy(model_foodcravings, effects = &quot;fixed&quot;) %&gt;% mutate(outcome = &quot;Food cravings&quot;)
) %&gt;%
  filter(term == &quot;total_active_min&quot;) %&gt;%
  select(outcome, estimate, std.error, statistic, p.value) %&gt;%
  mutate(
    significant = ifelse(p.value &lt; 0.05, &quot;Yes&quot;, &quot;No&quot;),
    p.value = format.pval(p.value, digits = 3, eps = 0.001)
  )

knitr::kable(results_summary)</code></pre>
<table>
<colgroup>
<col width="21%" />
<col width="16%" />
<col width="15%" />
<col width="16%" />
<col width="12%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">outcome</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="left">p.value</th>
<th align="left">significant</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Cramps</td>
<td align="right">-0.0000467</td>
<td align="right">0.0010536</td>
<td align="right">-0.0442889</td>
<td align="left">0.9647</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Fatigue</td>
<td align="right">-0.0026819</td>
<td align="right">0.0013608</td>
<td align="right">-1.9708807</td>
<td align="left">0.0493</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Stress</td>
<td align="right">-0.0011698</td>
<td align="right">0.0036337</td>
<td align="right">-0.3219312</td>
<td align="left">0.7476</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Mood swings</td>
<td align="right">-0.0011226</td>
<td align="right">0.0012213</td>
<td align="right">-0.9191398</td>
<td align="left">0.3585</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Sleep issues</td>
<td align="right">-0.0003841</td>
<td align="right">0.0012664</td>
<td align="right">-0.3033156</td>
<td align="left">0.7618</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Bloating</td>
<td align="right">-0.0002529</td>
<td align="right">0.0011161</td>
<td align="right">-0.2265707</td>
<td align="left">0.8209</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Appetite</td>
<td align="right">0.0003267</td>
<td align="right">0.0008830</td>
<td align="right">0.3699452</td>
<td align="left">0.7116</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Indigestion</td>
<td align="right">-0.0015992</td>
<td align="right">0.0011818</td>
<td align="right">-1.3532633</td>
<td align="left">0.1766</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Sore breasts</td>
<td align="right">0.0004040</td>
<td align="right">0.0008798</td>
<td align="right">0.4592262</td>
<td align="left">0.6463</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">Food cravings</td>
<td align="right">-0.0013056</td>
<td align="right">0.0013846</td>
<td align="right">-0.9429113</td>
<td align="left">0.3462</td>
<td align="left">No</td>
</tr>
</tbody>
</table>
<p>Our analysis examined the relationship between objectively measured
physical activity and menstrual symptom severity across 10 different
symptoms. The mixed-effects modeling approach appropriately accounts for
the repeated-measures structure of the data and controls for menstrual
cycle phase and study year effects.</p>
<p><strong>Key Takeaways:</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Individual Variation Dominates</strong>: The high ICC
values indicate that most variance in symptoms is between individuals
rather than within individuals over time. This suggests symptom
experiences are highly personalized.</p></li>
<li><p><strong>Exercise Effects Are Complex</strong>: The relationship
between exercise and symptoms is not uniformly beneficial or harmful.
Some symptoms may respond to exercise while others do not.</p></li>
<li><p><strong>Reverse Causation Concerns</strong>: Positive
associations (exercise → worse symptoms) likely reflect reverse
causation. Symptoms prevent exercise rather than exercise causing
symptoms.</p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
