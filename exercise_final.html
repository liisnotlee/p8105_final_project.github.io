<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exercise Exploratory Data Analysis</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-solid fa-spa"></span>
     
  </a>
</li>
<li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Data Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Hormone_symtoms_final.html">Hormone &amp; Symptoms</a>
    </li>
    <li>
      <a href="sleep_stress_final.html">Sleep &amp; Stress</a>
    </li>
    <li>
      <a href="exercise_final.html">Exercise</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Modelling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Hormone_symptoms_final_modelling.html">Hormone &amp; Symptoms</a>
    </li>
    <li>
      <a href="sleep_stress_final_modelling.html">Sleep &amp; Stress</a>
    </li>
    <li>
      <a href="exercise_final_modelling.html">Exercise</a>
    </li>
    <li>
      <a href="multimodal_final_modelling.html">Multivariate Models</a>
    </li>
  </ul>
</li>
<li>
  <a href="p8105_final_project_proposal.html">Proposal</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/liisnotlee/p8105_final_project.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exercise Exploratory Data Analysis</h1>

</div>


<p><br></p>
<p>This analysis investigates the relationship between objectively
measured exercise (steps, active minutes, calories) metrics and
self-reported menstrual symptoms across different menstrual cycle
phases. We use data from both study intervals (2022 and 2024).</p>
<p><br></p>
<div id="data-quality-assessment" class="section level2">
<h2>Data Quality Assessment</h2>
<div id="outlier-detection" class="section level3">
<h3>Outlier Detection</h3>
<p>Five observations showed extreme step counts (≥50,000) likely due to
device errors. These were excluded from step count visualizations only,
all analyses use the complete dataset as extreme values were isolated to
step counts.These observations are retained in all descriptive
statistics and statistical models to preserve the complete dataset. They
are excluded only from the step count distribution plot to prevent
visual distortion.</p>
<pre class="r"><code># Outlier check: Identifying and viewing extreme observations
extreme_obs = read.csv(&quot;./clean_data/all_daily_data.csv&quot;) |&gt; 
  distinct(id, study_interval, day_in_study, .keep_all = TRUE) |&gt; 
  filter(total_steps &gt;= 50000 | # unlikely to complete more than 50000 steps a day
         total_active_min &gt;= 1440 | # cannot have active exercise minutes for more than 24 hours
         total_calories &gt;= 10000) |&gt; # unlikely to burn more than 10000 calories in a day
  select(id, study_interval, day_in_study, 
         total_steps, total_active_min, total_calories) |&gt; 
  arrange(desc(total_steps))

# Displaying extreme observations
  kable(extreme_obs,
        caption = &quot;Outliers with Extreme Values&quot;,
        col.names = c(&quot;ID&quot;, &quot;Year&quot;, &quot;Day&quot;, &quot;Steps&quot;, &quot;Active Min&quot;, 
                     &quot;Calories&quot;)) |&gt; 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
Outliers with Extreme Values
</caption>
<thead>
<tr>
<th style="text-align:right;">
ID
</th>
<th style="text-align:right;">
Year
</th>
<th style="text-align:right;">
Day
</th>
<th style="text-align:right;">
Steps
</th>
<th style="text-align:right;">
Active Min
</th>
<th style="text-align:right;">
Calories
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
22
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
883
</td>
<td style="text-align:right;">
1880842
</td>
<td style="text-align:right;">
273.4644
</td>
<td style="text-align:right;">
183
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
922
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
922
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
253.8477
</td>
<td style="text-align:right;">
238
</td>
</tr>
<tr>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
887
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
</tr>
<tr>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
2024
</td>
<td style="text-align:right;">
887
</td>
<td style="text-align:right;">
1877616
</td>
<td style="text-align:right;">
234.2144
</td>
<td style="text-align:right;">
129
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
</div>
<div id="descriptive-statistics" class="section level2">
<h2>Descriptive Statistics</h2>
<div id="exercise-metrics" class="section level3">
<h3>Exercise Metrics</h3>
<pre class="r"><code># Loading data
all_daily_data = read.csv(&quot;./clean_data/all_daily_data.csv&quot;) |&gt; 
  distinct(id, study_interval, day_in_study, .keep_all = TRUE)

# Exercise descriptives
overall_desc = all_daily_data |&gt; 
  summarise(
    Variable = c(&quot;Daily Steps&quot;, &quot;Active Minutes/Day&quot;, &quot;Calories Burned&quot;, 
                 &quot;Exercise Sessions/Day&quot;, &quot;Days with Activity (%)&quot;),
    Mean = round(c(mean(total_steps, na.rm = TRUE),
                   mean(total_active_min, na.rm = TRUE),
                   mean(total_calories, na.rm = TRUE),
                   mean(n_sessions, na.rm = TRUE),
                   NA), 2),
    SD = round(c(sd(total_steps, na.rm = TRUE),
                 sd(total_active_min, na.rm = TRUE),
                 sd(total_calories, na.rm = TRUE),
                 sd(n_sessions, na.rm = TRUE),
                 NA), 2),
    Median = round(c(median(total_steps, na.rm = TRUE),
                     median(total_active_min, na.rm = TRUE),
                     median(total_calories, na.rm = TRUE),
                     median(n_sessions, na.rm = TRUE),
                     NA), 2),
    IQR = round(c(IQR(total_steps, na.rm = TRUE),
                  IQR(total_active_min, na.rm = TRUE),
                  IQR(total_calories, na.rm = TRUE),
                  IQR(n_sessions, na.rm = TRUE),
                  NA), 2),
    Percent = round(c(NA, NA, NA, NA,
                      mean(exercised_flag &gt; 0, na.rm = TRUE) * 100), 2)
  )

# Displaying table (and making NAs blank)
overall_desc |&gt; 
  mutate(across(where(is.numeric), ~ifelse(is.na(.), &quot;&quot;, .))) |&gt; 
  kable(caption = &quot;Descriptive Statistics: Exercise Metrics&quot;,
        align = c(&quot;l&quot;, &quot;r&quot;, &quot;r&quot;, &quot;r&quot;, &quot;r&quot;, &quot;r&quot;)) %&gt;%
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), full_width = FALSE)</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Descriptive Statistics: Exercise Metrics
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
SD
</th>
<th style="text-align:right;">
Median
</th>
<th style="text-align:right;">
IQR
</th>
<th style="text-align:right;">
Percent
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Daily Steps
</td>
<td style="text-align:right;">
10673.14
</td>
<td style="text-align:right;">
100251.66
</td>
<td style="text-align:right;">
4370
</td>
<td style="text-align:right;">
5088.25
</td>
<td style="text-align:right;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Active Minutes/Day
</td>
<td style="text-align:right;">
65.7
</td>
<td style="text-align:right;">
50.43
</td>
<td style="text-align:right;">
52.05
</td>
<td style="text-align:right;">
59.73
</td>
<td style="text-align:right;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Calories Burned
</td>
<td style="text-align:right;">
226.74
</td>
<td style="text-align:right;">
225.59
</td>
<td style="text-align:right;">
153
</td>
<td style="text-align:right;">
209
</td>
<td style="text-align:right;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Exercise Sessions/Day
</td>
<td style="text-align:right;">
2.09
</td>
<td style="text-align:right;">
1.31
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Days with Activity (%)
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
30.82
</td>
</tr>
</tbody>
</table>
<p>Overall, participants demonstrated moderate daily physical activity
levels. The median daily step count was 4,370 steps, with a mean of
10,673.14 steps (SD = 100,251.7). The large standard deviation and
difference between mean and median indicate presence of extreme outlier
observations (as identified earlier). Active exercise time averaged 65.7
minutes per day (Median = 52.05 minutes), with participants burning an
average of 226.74 calories per session (Median = 153). Most participants
engaged in 2.09 exercise sessions per day (Median = 2). Physical
activity was recorded on 30.82% of study days, indicating high
compliance with activity tracking.</p>
<p><br></p>
</div>
<div id="exercise-metrics-by-study-year" class="section level3">
<h3>Exercise Metrics by Study Year</h3>
<pre class="r"><code># Comparison by study year
year_comp = all_daily_data |&gt; 
  group_by(study_interval) |&gt; 
  summarise(
    `N Days` = n(),
    `N Participants` = n_distinct(id),
    `Mean Steps` = round(mean(total_steps, na.rm = TRUE), 2),
    `SD Steps` = round(sd(total_steps, na.rm = TRUE), 2),
    `Mean Active Min` = round(mean(total_active_min, na.rm = TRUE), 2),
    `SD Active Min` = round(sd(total_active_min, na.rm = TRUE), 2),
    `% Days Active` = round(mean(exercised_flag, na.rm = TRUE) * 100, 2)
  ) |&gt; 
  rename(Year = study_interval)

kable(year_comp,
      caption = &quot;Descriptive Statistics: Exercise Metrics by Study Year&quot;,
      align = c(&quot;c&quot;, rep(&quot;r&quot;, 7))) %&gt;%
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), full_width = FALSE)</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Descriptive Statistics: Exercise Metrics by Study Year
</caption>
<thead>
<tr>
<th style="text-align:center;">
Year
</th>
<th style="text-align:right;">
N Days
</th>
<th style="text-align:right;">
N Participants
</th>
<th style="text-align:right;">
Mean Steps
</th>
<th style="text-align:right;">
SD Steps
</th>
<th style="text-align:right;">
Mean Active Min
</th>
<th style="text-align:right;">
SD Active Min
</th>
<th style="text-align:right;">
% Days Active
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
2022
</td>
<td style="text-align:right;">
3698
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
3991.31
</td>
<td style="text-align:right;">
3132.28
</td>
<td style="text-align:right;">
47.79
</td>
<td style="text-align:right;">
37.63
</td>
<td style="text-align:right;">
14.6
</td>
</tr>
<tr>
<td style="text-align:center;">
2024
</td>
<td style="text-align:right;">
1961
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
13669.97
</td>
<td style="text-align:right;">
120533.68
</td>
<td style="text-align:right;">
73.73
</td>
<td style="text-align:right;">
53.30
</td>
<td style="text-align:right;">
61.4
</td>
</tr>
</tbody>
</table>
<p>Exercise patterns differed substantially between study years. The
2024 cohort showed considerably higher activity levels compared to 2022
across all metrics. 2024 participants averaged 73.73 active minutes per
day compared to 47.79 minutes in 2022. The proportion of days with
recorded activity increased from 14.6% in 2022 to 61.4% in 2024.</p>
<p><br></p>
</div>
<div id="symptom-severity" class="section level3">
<h3>Symptom Severity</h3>
<pre class="r"><code># Symptom descriptives
symptom_desc = all_daily_data |&gt; 
  summarise(
    across(c(appetite_score, headaches_score, cramps_score, sorebreasts_score, fatigue_score, sleepissue_score, moodswing_score, foodcravings_score, indigestion_score, bloating_score),
           list(mean = ~mean(.x, na.rm = TRUE),
                sd = ~sd(.x, na.rm = TRUE),
                median = ~median(.x, na.rm = TRUE)),
           .names = &quot;{.col}_{.fn}&quot;)
  ) |&gt; 
  pivot_longer(everything(),
               names_to = c(&quot;symptom&quot;, &quot;.value&quot;),
               names_pattern = &quot;(.+)_score_(.+)&quot;) |&gt; 
  mutate(
    symptom = str_to_title(str_replace_all(symptom, &quot;_&quot;, &quot; &quot;)),
    across(where(is.numeric), ~round(.x, 2))
  ) |&gt; 
  # Alphabetical order
  arrange(symptom)

kable(symptom_desc,
      col.names = c(&quot;Symptom&quot;, &quot;Mean&quot;, &quot;SD&quot;, &quot;Median&quot;),
      caption = &quot;Descriptive Statistics: Symptom Severity (Scale: 0 = None, 5 = Very High)&quot;,
      align = c(&quot;l&quot;, &quot;r&quot;, &quot;r&quot;, &quot;r&quot;)) %&gt;%
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), full_width = FALSE)</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Descriptive Statistics: Symptom Severity (Scale: 0 = None, 5 = Very
High)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Symptom
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
SD
</th>
<th style="text-align:right;">
Median
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Appetite
</td>
<td style="text-align:right;">
2.91
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Bloating
</td>
<td style="text-align:right;">
1.60
</td>
<td style="text-align:right;">
1.48
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Cramps
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
1.27
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Fatigue
</td>
<td style="text-align:right;">
2.50
</td>
<td style="text-align:right;">
1.48
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Foodcravings
</td>
<td style="text-align:right;">
1.83
</td>
<td style="text-align:right;">
1.53
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Headaches
</td>
<td style="text-align:right;">
1.46
</td>
<td style="text-align:right;">
1.41
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Indigestion
</td>
<td style="text-align:right;">
1.45
</td>
<td style="text-align:right;">
1.42
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Moodswing
</td>
<td style="text-align:right;">
1.57
</td>
<td style="text-align:right;">
1.42
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Sleepissue
</td>
<td style="text-align:right;">
2.01
</td>
<td style="text-align:right;">
1.48
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Sorebreasts
</td>
<td style="text-align:right;">
0.85
</td>
<td style="text-align:right;">
1.11
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p>Symptom severity varied across menstrual cycle phases and between
individuals. Most physical symptoms showed low-to-moderate mean severity
on the 0-5 scale: cramps (M = 1, SD = 1.27), fatigue (M = 2.5, SD =
1.48), and bloating (M = 1.6, SD = 1.48). Psychological symptoms
including mood swings (M = 1.57, SD = 1.42) and appetite changes (M =
2.91, SD = 0.83) were similarly mild to moderate on average. The
relatively large standard deviations across all symptoms reflect
substantial variability in symptom experiences across the menstrual
cycle.</p>
<p><br></p>
</div>
</div>
<div id="visualizations" class="section level2">
<h2>Visualizations</h2>
<div id="distribution-of-exercise-metrics" class="section level3">
<h3>Distribution of Exercise Metrics</h3>
<pre class="r"><code>exercise_analysis = all_daily_data

# Distribution of daily step count
p1 = ggplot(exercise_analysis |&gt; filter(total_steps &gt; 0, total_steps &lt; 50000), 
             aes(x = total_steps, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_steps[exercise_analysis$total_steps &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Daily Step Count Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       scales::comma(round(median(exercise_analysis$total_steps[exercise_analysis$total_steps &gt; 0], na.rm = TRUE))), 
                       &quot;steps&quot;),
       x = &quot;Total Daily Steps&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;) +
  scale_x_continuous(labels = scales::comma)

# Active minutes distribution
p2 = ggplot(exercise_analysis |&gt; filter(total_active_min &gt; 0), 
             aes(x = total_active_min, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_active_min[exercise_analysis$total_active_min &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Active Minutes Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       round(median(exercise_analysis$total_active_min[exercise_analysis$total_active_min &gt; 0], na.rm = TRUE), 1), 
                       &quot;minutes&quot;),
       x = &quot;Total Active Minutes&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;)

# Calories Burned Distribution
p3 = ggplot(exercise_analysis |&gt; filter(total_calories &gt; 0), 
             aes(x = total_calories, fill = factor(study_interval))) +
  geom_histogram(bins = 50, alpha = 0.7, position = &quot;dodge&quot;) +
  geom_vline(xintercept = median(exercise_analysis$total_calories[exercise_analysis$total_calories &gt; 0], na.rm = TRUE),
             linetype = &quot;dashed&quot;, color = &quot;black&quot;, linewidth = 1) +
  labs(title = &quot;Calories Burned Distribution&quot;,
       subtitle = paste(&quot;Median:&quot;, 
                       scales::comma(round(median(exercise_analysis$total_calories[exercise_analysis$total_calories &gt; 0], na.rm = TRUE))), 
                       &quot;calories&quot;),
       x = &quot;Total Calories Burned&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;) +
  scale_x_continuous(labels = scales::comma)

# Exercise Sessions Per Day
p4 = ggplot(exercise_analysis |&gt; filter(n_sessions &gt; 0), 
             aes(x = n_sessions, fill = factor(study_interval))) +
  geom_bar(alpha = 0.7, position = &quot;dodge&quot;) +
  labs(title = &quot;Exercise Sessions Per Day&quot;,
       x = &quot;Number of Sessions&quot;,
       y = &quot;Count&quot;,
       fill = &quot;Study Year&quot;)

(p1 + p2) / (p3 + p4) + 
  plot_layout(guides = &quot;collect&quot;)</code></pre>
<p><img src="exercise_final_files/figure-html/unnamed-chunk-6-1.png" width="1344" /></p>
<p><strong>Step Count Distribution:</strong> Daily steps on active days
showed pronounced right-skew with a median of 4,455 steps. The bulk of
observations fell between 2,000-8,000 steps, with a long tail extending
beyond 20,000 steps. The 2024 distribution (orange) shifted notably
rightward compared to 2022 (teal), indicating higher step counts. Five
extreme observations (≥50,000 steps) were excluded from this
visualization only, as they distorted the scale and were obvious data
errors.</p>
<p><strong>Active Minutes Distribution:</strong> Exercise duration
exhibited similar right-skew (52 minutes), with most sessions lasting
20-80 minutes. The 2024 cohort showed longer session durations, with the
distribution peak occurring at higher values than 2022. This pattern
suggests not only more frequent exercise in 2024, but also longer
duration per session.</p>
<p><strong>Calories Burned Distribution:</strong> Energy expenditure
followed the expected pattern given step and duration data (Median = 153
calories). The heavy concentration near zero with gradual right tail
indicates predominantly light-to-moderate intensity exercise, with
occasional high-intensity sessions. The 2024-2022 difference parallels
that observed in steps and active minutes duration.</p>
<p><strong>Exercise Sessions:</strong> Most active days included 1-3
discrete exercise sessions, with a clear mode at 2 sessions. The 2024
cohort showed higher frequencies of 2+ sessions compared to 2022,
suggesting either improved activity tracking or genuinely more
structured exercise routines.</p>
<p>These distributions collectively demonstrate substantial right-skew,
and high variability.</p>
<p><br></p>
</div>
<div id="activity-type-distribution" class="section level3">
<h3>Activity Type Distribution</h3>
<pre class="r"><code># Preparing activity types data
activities_long = exercise_analysis |&gt; 
  filter(!is.na(activity_types), activity_types != &quot;&quot;, activity_types != &quot;NA&quot;) |&gt; 
  select(id, study_interval, day_in_study, activity_types) |&gt; 
  mutate(
    activity_types = str_replace_all(activity_types, &quot;\\n&quot;, &quot;,&quot;),
    activity_types = str_replace_all(activity_types, &quot;\&quot;&quot;, &quot;&quot;)
  ) |&gt; 
  separate_rows(activity_types, sep = &quot;,&quot;) |&gt; 
  mutate(
    activity_types = str_trim(activity_types),
    activity_types = str_to_title(activity_types)
  ) |&gt; 
  filter(activity_types != &quot;&quot;, activity_types != &quot;Na&quot;)

# Counting activities by year
activity_counts = activities_long |&gt; 
  group_by(study_interval, activity_types) |&gt; 
  summarise(n_days = n(), .groups = &quot;drop&quot;) |&gt; 
  group_by(study_interval) |&gt; 
  mutate(pct = n_days / sum(n_days) * 100) |&gt; 
  ungroup()

# Getting top 10 activities
top_activities = activity_counts |&gt; 
  group_by(activity_types) |&gt; 
  summarise(total = sum(n_days)) |&gt; 
  arrange(desc(total)) |&gt; 
  slice(1:10) |&gt; 
  pull(activity_types)

activity_counts_top = activity_counts |&gt; 
  filter(activity_types %in% top_activities)

# Plot: Top 10 activities by year
p1 = ggplot(activity_counts_top, 
             aes(x = reorder(activity_types, pct), y = pct, 
                 fill = factor(study_interval))) +
  geom_col(position = &quot;dodge&quot;, alpha = 0.8) +
  geom_text(aes(label = paste0(round(pct, 2), &quot;%&quot;)),
            position = position_dodge(width = 0.9),
            hjust = -0.1,
            size = 3) +
  coord_flip() +
  labs(title = &quot;Most Common Activity Types by Study Year&quot;,
       x = &quot;Activity Type&quot;,
       y = &quot;% of Days with Exercise&quot;,
       fill = &quot;Study Year&quot;) +
  theme_minimal() +
  theme(legend.position = &quot;bottom&quot;) +
  expand_limits(y = max(activity_counts_top$pct) * 1.15)

p1</code></pre>
<p><img src="exercise_final_files/figure-html/unnamed-chunk-7-1.png" width="1056" />
Walking dominated exercise routines in both study years (2022: 84.06%,
2024: 72.01%), accounting for the vast majority of recorded activity
sessions. Beyond walking, participants engaged in diverse activities
including aerobic workouts, general sport, and strength training
(weights). The 2024 cohort showed greater diversity in activity types,
with more structured exercises such as aerobic workouts and weight
training compared to 2022. Activities like outdoor biking, running,
treadmill, and swimming appeared in both years but at much lower
frequencies. Notably, some activities (e.g., weights, treadmill, swim,
workout, hike) appeared exclusively or predominantly in 2024.</p>
<p><br></p>
</div>
<div id="exercise-patterns-across-menstrual-cycle-phases"
class="section level3">
<h3>Exercise Patterns Across Menstrual Cycle Phases</h3>
<pre class="r"><code>p1 = ggplot(exercise_analysis |&gt; filter(!is.na(phase), total_steps &gt; 0, total_steps &lt; 50000), 
             aes(x = phase, y = total_steps, fill = phase)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.3) +
  geom_jitter(width = 0.2, alpha = 0.1, size = 0.5) +
  stat_summary(fun = mean, geom = &quot;point&quot;, shape = 23, size = 3, fill = &quot;white&quot;) +
  facet_wrap(~study_interval, ncol = 2) +  # Side by side
  labs(title = &quot;Daily Steps by Menstrual Cycle Phase&quot;,
       subtitle = &quot;White diamonds represent mean values | Comparing study years&quot;,
       x = &quot;Cycle Phase&quot;,
       y = &quot;Total Daily Steps&quot;) +
  scale_y_continuous(labels = comma) +
  theme(legend.position = &quot;bottom&quot;,
        axis.text.x = element_text(angle = 45, hjust = 1))

p2 = ggplot(exercise_analysis |&gt; filter(!is.na(phase), total_active_min &gt; 0), 
             aes(x = phase, y = total_active_min, fill = phase)) +
  geom_boxplot(alpha = 0.7, outlier.alpha = 0.3) +
  geom_jitter(width = 0.2, alpha = 0.1, size = 0.5) +
  stat_summary(fun = mean, geom = &quot;point&quot;, shape = 23, size = 3, fill = &quot;white&quot;) +
  facet_wrap(~study_interval, ncol = 2) +
  labs(title = &quot;Active Minutes by Menstrual Cycle Phase&quot;,
       x = &quot;Cycle Phase&quot;,
       y = &quot;Total Active Minutes&quot;) +
  theme(legend.position = &quot;bottom&quot;,
        axis.text.x = element_text(angle = 45, hjust = 1))

p1 / p2 + plot_layout(guides = &quot;collect&quot;)</code></pre>
<p><img src="exercise_final_files/figure-html/unnamed-chunk-8-1.png" width="960" />
<strong>Daily Steps:</strong> In 2022, step counts remained relatively
stable across all phases, with medians around 3,000-4,000 steps. In
2024, phase-related differences were more pronounced; the fertility
phase showed higher median step counts (~6,000 steps), while the luteal
and menstrual phases showed lower activity (~5,000 steps). The 2024
cohort demonstrated consistently higher step counts across all phases
compared to 2022. Five extreme observations (≥50,000 steps) were
excluded from this visualization as they distorted the scale and were
obvious data errors.</p>
<p><strong>Active Minutes:</strong> Similar patterns emerged for active
minutes. In 2022, all phases showed comparable median active time
(~30-40 minutes). In 2024, the fertility phase showed higher active
minutes (~ 70 minutes), while follicular, luteal and menstrual phases
were lower (~50-60 minutes). Both years exhibited substantial individual
variability, as evident by the wide spread of data points and multiple
outliers, suggesting that not all participants followed the same
phase-related activity patterns.</p>
<p><br></p>
</div>
<div id="exercise-and-symptom-associations" class="section level3">
<h3>Exercise and Symptom Associations</h3>
<pre class="r"><code>symptoms_long = exercise_analysis |&gt; 
  filter(total_active_min &gt; 0) |&gt; 
  select(id, total_active_min, appetite_score, headaches_score, sorebreasts_score, sleepissue_score, cramps_score, fatigue_score, 
         headaches_score, moodswing_score, foodcravings_score, indigestion_score, bloating_score) |&gt; 
  pivot_longer(cols = ends_with(&quot;_score&quot;), 
               names_to = &quot;symptom&quot;, 
               values_to = &quot;severity&quot;) |&gt; 
  filter(!is.na(severity)) |&gt; 
  mutate(symptom = case_when(
    symptom == &quot;appetite_score&quot; ~ &quot;Appetite&quot;,
    symptom == &quot;headaches_score&quot; ~&quot;Head Aches&quot;,
    symptom == &quot;sorebreasts_score&quot; ~ &quot;Sore Breasts&quot;,
    symptom == &quot;sleepissue_score&quot; ~ &quot;Sleep Issue&quot;,
    symptom == &quot;cramps_score&quot; ~ &quot;Cramps&quot;,
    symptom == &quot;fatigue_score&quot; ~ &quot;Fatigue&quot;,
    symptom == &quot;headaches_score&quot; ~ &quot;Headaches&quot;,
    symptom == &quot;moodswing_score&quot; ~ &quot;Mood Swings&quot;,
    symptom == &quot;foodcravings_score&quot; ~ &quot;Food Cravings&quot;,
    symptom == &quot;indigestion_score&quot; ~ &quot;Indigestion&quot;,
    symptom == &quot;bloating_score&quot; ~ &quot;Bloating&quot;
  ))

p4 = ggplot(symptoms_long, 
             aes(x = total_active_min, y = severity, color = symptom)) +
  geom_jitter(alpha = 0.2, size = 0.5, height = 0.1) +
  geom_smooth(method = &quot;lm&quot;, se = TRUE, linewidth = 1.0, alpha = 0.2) +
  facet_wrap(~symptom, ncol = 2) +
  labs(title = &quot;Daily Activity vs Individual Symptoms&quot;,
       x = &quot;Total Daily Activity (mins)&quot;,
       y = &quot;Symptom Severity (0-5)&quot;) +
  scale_x_continuous(labels = comma) +
  scale_y_continuous(breaks = 0:5) +
  theme(legend.position = &quot;none&quot;) +
  scale_color_brewer(palette = &quot;Set2&quot;)

p4</code></pre>
<p><img src="exercise_final_files/figure-html/unnamed-chunk-9-1.png" width="960" />
The scatterplots examine crude associations between daily activity
(exercise) and each symptom:</p>
<p><strong>Negative slopes (potential benefits):</strong></p>
<ul>
<li><strong>Bloating</strong>: Considerable downward trend suggests
higher activity level is associated with reduced bloating</li>
<li><strong>Fatigue</strong>: Considerable downward trend suggests
higher activity is level associated with reduced fatigue</li>
<li><strong>Food cravings</strong>: Considerable downward trend suggests
higher activity level is associated with fewer food cravings</li>
<li><strong>Head aches</strong>: Slight downward trend suggests higher
activity level is associated with fewer headaches</li>
<li><strong>Indigestion</strong>: Considerable downward trend suggests
higher activity level is associated with lower indigestion</li>
</ul>
<p><strong>Flat relationships (no clear association):</strong></p>
<ul>
<li><strong>Appetite, headaches, sleep issues, sore breasts,
moodswings</strong>: Nearly flat line</li>
<li><strong>Cramps</strong>: Near-horizontal line despite often being
referred as one of the primary symptoms of menstruation</li>
</ul>
<p><strong>Sleep issues</strong> and <strong>sore breasts</strong>
exhibited insufficient data spread to estimate reliable trends</p>
<p>Across all panels, several key patterns emerge. First, the wide
confidence bands indicate substantial uncertainty in all bivariate
relationships. Second, many data points cluster at low activity levels
(0-100 minutes), with sparser observations at higher activity,
reflecting the right-skewed activity distribution. Third, symptoms
generally concentrate at lower severity levels (0-2 on 0-5 scale), with
relatively few observations at high severity, consistent with the
descriptive statistics.Given the observable trends between daily
activity and symptom severity, formal statistical modeling would be
beneficial to quantify these associations and determine whether these
relationships are statistically significant after accounting for
potential confounders.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
